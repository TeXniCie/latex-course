\newif\ifishandout
\ishandoutfalse

\ifishandout
\documentclass[handout]{beamer}
\else
\documentclass{beamer}
\fi

\usepackage[tabsize=4]{highlightlatex}

\usetheme{Dresden}
\usecolortheme{dolphin}
\useoutertheme{miniframes}

\usepackage{amsmath,amssymb,amsthm,commath,mathtools}
\usepackage{enumerate}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{adjustbox}
\usepackage{soul}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}

\title{LaTeX cursus}
\author{Vincent Kuhlmann}
\date{23 April 2021}

% Source: https://tex.stackexchange.com/questions/41683/why-is-it-that-coloring-in-soul-in-beamer-is-not-visible
\let\UL\ul
\makeatletter
\renewcommand\ul{
	\let\set@color\beamerorig@set@color
	\let\reset@color\beamerorig@reset@color
	\UL
}

\let\ST\st
\makeatletter
\def\st#1{
	\begingroup
	\let\set@color\beamerorig@set@color
	\let\reset@color\beamerorig@reset@color
	\def\SOUL@uleverysyllable{%
		\rlap{%
			%\color{red}
			\the\SOUL@syllable
			\SOUL@setkern\SOUL@charkern}%
		\SOUL@ulunderline{%
			\phantom{\the\SOUL@syllable}}%
	}%
	\ST{#1}%
	\endgroup
}
\makeatother
% https://tex.stackexchange.com/questions/71051/strikeout-in-different-color-appears-behind-letters-not-on-top-of-them

\setulcolor{red}
\setstcolor{red}

% Override if you want. Else you can delete it.
%\colorlet{curlyBrackets}{red!50!blue}
%\colorlet{squareBrackets}{blue!50!white}
%\colorlet{codeBackground}{gray!10!white}
%\colorlet{comment}{green!40!black}

\updatehighlight{
	name = default,
	color = {blue!90!black},
	add = {
		\knowncommand
	},
	name = structure,
	add = {
	},
}

\updatehighlight{
	name = greenDollar,
	style = {\itshape\color{green!70!black}},
	add = {
		% The dollar sign is provided an extra time just to
		% calm down TeXstudio's code highlighting.
		$, $
	},
	name = accentA,
	color = green!60!black,
	add = {
		\inAccA, Hi!
	},
	%
	name = accentB,
	color = red!60!black,
	add = {
		\inAccB
	},
	%
	name = accentC,
	color = orange!100!black,
	add = {
		\inAccC
	}
}

\lstset{tabsize=4}
\def\defaultgobble{8}

%\hllconfigure{
%	gobbletabs=3,
%}

\begin{document}

\section{Basics}

\begin{frame}
	\titlepage
	\centering
\end{frame}

\begin{frame}
	\LaTeX{} vs Word, Tekstopmaak, Lijsten, Formules, Afbeeldingen, Diagrammen, Installatie
\end{frame}

\begin{frame}
	\begin{tabular}{p{0.5\textwidth}p{0.5\textwidth}}
		%\dimexpr 0.5\textheight-\height\relax
		\adjustbox{padding={0pt {\dimexpr (0.5\textheight-\height)/2\relax} {0pt} {\dimexpr (0.5\textheight-\height)/2\relax}},bgcolor=blue!5!white}{
			Websites
		} & \adjustbox{}{
			Apps
		}\\
		\adjustbox{}{
			Wikipedia
		} & \adjustbox{}{
			\LaTeX
		}
	\end{tabular}
\end{frame}

\begin{frame}
	Websites \& Apps: Tekst vs Visueel
	\begin{columns}
		\begin{column}{0.5\textwidth}
			\adjustbox{set height=4cm,left=\textwidth,bgcolor=gray,margin=10pt}{}
		\end{column}
		\begin{column}{0.5\textwidth}
			{\setul{1.5pt}{1pt}\setulcolor{red}\ul{Tekst = Informatie}}
			\begin{itemize}
				\item Aanpassen aan schermgroottes
				\item Doorklikken/interactiviteit
				\item Dynamische inhoud
				\item Herhalende elementen
			\end{itemize}
		\end{column}
	\end{columns}
\end{frame}

\newsavebox\sometest
\savebox\sometest{\ul{Testing}}

\begin{frame}
	Wikipedia\footnote{komt ook op veel andere plaatsen voor}: Tekst vs Visueel
	\begin{columns}
		\begin{column}{0.5\textwidth}
			\adjustbox{set height=4cm,left=\textwidth,bgcolor=gray,margin=10pt}{}
		\end{column}
		\begin{column}{0.5\textwidth}
			{\setul{1.5pt}{1pt}\setulcolor{red}\ul{Tekst = Informatie}}
			\begin{itemize}
				\item Focus op betekenis
				\item Stijl komt achteraf \textrightarrow{} Consistent en flexibel
			\end{itemize}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}
	WhatsApp: Tekst vs Visueel
	\begin{columns}
		\begin{column}{0.5\textwidth}
			\adjustbox{set height=4cm,left=\textwidth,bgcolor=gray,margin=10pt}{}
		\end{column}
		\begin{column}{0.5\textwidth}
			{\setul{1.5pt}{1pt}\setulcolor{red}\ul{Tekst = Informatie}}
			\begin{itemize}
				\item Inzichtelijk
				\item Beperk aantal knoppen op het scherm
			\end{itemize}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}
	\LaTeX: Tekst vs Visueel
	
	\begin{itemize}
		\item Formules
		\item Herhalende elementen
		\item  {\setulcolor{green}\ul{Fanciness}} {\setul{0pt}{1pt}\st{Fancyness}}
		%\item \textfrak{\so{S{ch}u{tz}vorri{ch}tung}}
	\end{itemize}
\end{frame}

\begin{frame}
	Word: Tekst vs Visueel
	
	\begin{itemize}
		\item Gaat kopiÃ«ren van een tabel wel goed? Blijft de opmaak dan goed behouden?
		\item Waar komt die witruimte opeens vandaan?
		\item Waarom wil Word de volgende regel opeens in bold?
	\end{itemize}

\end{frame}

\begin{frame}
	\LaTeX{} $ \simeq $ Word
\end{frame}

\begin{frame}
	Websites niet via Word
\end{frame}

\begin{frame}
	Apps niet via Word
\end{frame}

\begin{frame}
	Wikipedia niet via Word
\end{frame}

\begin{frame}[<+->]
	Problemen met Word:
	\begin{enumerate}
		\item Informatie $\leftrightarrow$ Visueel
			\begin{itemize}
				\item Formules
				\item Geavanceerde diagramplaatsing
				\item Buiten documenten: schermgrootte, website links, \textellipsis
			\end{itemize}
		\item Betekenis $ \leftrightarrow $ Visueel
			\begin{itemize}
				\item Vaste elementen (bv. `Voorbeeld' of `Opmerking' boxen)
				\item Geen verspringende opmaken of spookwitruimte
				\item Door code: gebruik een package voor een bijzondere wens, of schrijf code zelf.
			\end{itemize}
	\end{enumerate}
\end{frame}

\begin{frame}
	Overleaf \& Simpel document
\end{frame}

\begin{frame}{$ \text{\LaTeX}\supset\text{Word} $}
	%\frametitle{$ \text{\LaTeX}\supset\text{Word} $}
	\begin{enumerate}
		\item Tekst vet / schuin
		\item Tekstgrootte
		\item Tekstkleur
		\item Lijntje
		\item Extra ruimte
		\item Kader
	\end{enumerate}
\end{frame}

\begin{frame}
	\begin{enumerate}
		\item Speciale tekens
		\item Lijsten
		\item Pagina layout
		\item Inhoudstafel
	\end{enumerate}
\end{frame}

\begin{frame}{Formules}
	\begin{enumerate}
		\item Inline
		\item Superscript, subscript, summation
		\item Equation
		\item Align
		\item Nummering
	\end{enumerate}
\end{frame}

\def\Zphantomconceal#1#2{%
	\only<#2->{\rlap{#1}}\phantom{#1}%
	%\only<#2->{#3}\unless\ifishandout\only<-#1>{\phantom{#3}}\fi
}

\def\phantomconceal#1#2{%
	\Zphantomconceal{#1}{#2}%
}

\newcommand\hideformula[2][2]{%
	%\hll|$| \only<2->{\hll|\\sqrt\{2\}|}\only<-1>{??} \hll|$|
	\hll|$| \phantomconceal{\hll|#2|}{#1} \hll|$|
}

\newcount\showcount

\newcommand\showformula[2]{%
	#1 & \global\showcount=\numexpr\showcount + 1\relax
	\expandafter\hideformula\expandafter[\the\showcount]{#2}%
}

\begin{saveblock}{formDocFrag}
	\begin{highlightblock}[gobble=8]
		De trigonometrische identiteit
		is $ \sin^2(\theta) + \cos^2(\theta) = 1 $.
	\end{highlightblock}
\end{saveblock}

\begin{frame}{Formules}
	De trigonometrische identiteit is $ \sin^2(\theta) + \cos^2(\theta) = 1 $.
	
	\vspace{10pt}
	\useblock{formDocFrag}	
\end{frame}

\begin{frame}{Formules}
	%\hll|$| \only<2->{\hll|\\sqrt\{2\}|}\only<-1>{??} \hll|$|
	%\hideformula[2]{\\sqrt\{2\}}
	%\bgroup
	\renewcommand{\arraystretch}{1.5}
	\begin{tabularx}{\textwidth}{ll}
		\toprule
		Formula {\global\showcount=1\relax}& Code\\
		\midrule
		\showformula{$ \sqrt{2} $}{\\sqrt\{2\}}\\
		\showformula{$ \frac{2}{3} $}{\\frac\{2\}\{3\}}\\
		\showformula{$ a^2 + x_i $}{a^2 + x_i}\\
		\showformula{$ \sin(2\pi) $}{\\sin(2\\pi)}\\
		\showformula{$ \sin^2(2\pi) $}{\\sin^2(2\\pi)}\\
		\bottomrule
	\end{tabularx}
	%\egroup
\end{frame}

\begin{frame}{Afbeeldingen}
	\begin{enumerate}
		\item \hll|\\includegraphics|
		\item Figure
		\item Nummering
		\item Naast elkaar (subfigure)
	\end{enumerate}
\end{frame}

\begin{frame}{Diagrammen}
	\begin{enumerate}
		\item Punten en lijnen
		\item Punten en lijn decoraties
	\end{enumerate}
\end{frame}

\begin{frame}{Meer}
	Zie bijlages
	\begin{enumerate}
		\item Installatie
		\item Herhalende elementen
		\item Bibliografie
		\item Versiebeheer
	\end{enumerate}
\end{frame}

%\begin{saveblock}{arealjumble}
	%		\the\ht\strutbox, \the\baselineskip, \the\dimexpr .7\baselineskip\relax, \the\dimexpr .3\baselineskip\relax
	%\begin{highlightblock}[linewidth=19em,gobble=6,framerule=5.251792907714844pt]
%	\begin{highlightblock}[linewidth=19em]
%		% Here is some code
%		\setcounter{secnumdepth}{1}
%		\begin{document}
%			\section{My section (and Hi!)}
%			
%			\unknowncommand\knowncommand
%			\inAccA\inAccB\inAccC
%			\section ~\smash{\ensuremath{\sqrt{2}\;\leftarrow}} cool!~
%			
%			Insert literal tildes like ~\textasciitilde~. Hi!
%		\end{document}
%	\end{highlightblock}
%\end{saveblock}

\begin{frame}
	\frametitle{Beautiful code}
	And look at this beautiful code
	%\useblock{arealjumble}
	with some text after it.
	
\end{frame}

\begin{frame}
	\frametitle{Beautiful code}
	Even more beautiful when we center it:
	\begin{center}
		%\consumeblock{arealjumble}
	\end{center}
\end{frame}

% The name allows us to modify what we had set for it.
%\updatehighlight{
%	name = accentB,
%	% Removes all commands and keywords from it
%	clear,
%	name = accentA,
%	add = {
%		\inAccB	
%	}
%}

%\begin{saveblock}{nextpart}
%	\begin{highlightblock}[linewidth=0.6\textwidth]
%		% File: document.tex
%		\documentclass[a4paper]{article}
%		\usepackage{amsmath}
%		
%		\begin{document}
%			Insert math like $\sqrt{2}$.
%			\inAccA\inAccB\inAccC
%			
%		\end{document}
%	\end{highlightblock}
%\end{saveblock}

\begin{frame}
	\frametitle{Continuing}
	Let's also show square brackets:
	
%	\begin{center}
%		\useblock{nextpart}
%	\end{center}
	
	\pause
	% Note we need to escape characters!
	%The first line was of the form \hll|\\documentclass[]\{\}|. Very interesting.
	
	\pause
	%Note the \hll|\$| are only green because we defined it as a keyword.
\end{frame}

%\begin{saveblock}{basicfigure}
%	\begin{highlightblock}[linewidth=0.6\textwidth]
%		\begin{figure}
%			\includegraphics
%			[width=0.9\linewidth]
%			{myPlot.pdf}
%			
%			\caption{My plot}
%			\label{fig:myplot}
%		\end{figure}
%	\end{highlightblock}
%\end{saveblock}
%
%\begin{saveblock}{figureplacement}
%	\begin{highlightblock}[linewidth=0.4\textwidth]
%		\begin{figure}[htbp]
%		\end{highlightblock}
%	\end{saveblock}
%	
%	\begin{frame}
%		\frametitle{Next to eachother}
%		\begin{columns}
%			\begin{column}{0.6\textwidth}
%				\consumeblock{basicfigure}
%			\end{column}
%			\begin{column}{0.4\textwidth}
%				You could have here code too:
%				\consumeblock{figureplacement}
%				
%			\end{column}
%		\end{columns}
%	\end{frame}
	
	\section{Repository}
	\begin{frame}
		\begin{center}
			{\Large Go to}\\
			\url{https://github.com/vkuhlmann/highlight-latex}
		\end{center}
	\end{frame}
	
\end{document}
